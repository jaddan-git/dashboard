<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기술지원본부 주간 업무 보고 대시보드 (2025.12.08)</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Chart.js Datalabels Plugin CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script> 
    <style>
        /* 기본 폰트 설정 */
        body {
            font-family: 'Inter', sans-serif; 
        }
        /* 차트 컨테이너 스타일 */
        .chart-container {
            position: relative;
            margin: auto;
            height: 300px; /* 기본 높이 */
            width: 100%;   /* 너비 100%로 변경하여 그리드에 맞춤 */
            max-width: 100%; 
            margin-bottom: 1rem;
        }
        /* 작은 차트 컨테이너 */
        .chart-container-small {
            height: 250px;
            width: 100%;
            max-width: 100%;
        }
         /* 모바일 환경에서 차트 크기 조정 */
        @media (max-width: 640px) {
            .chart-container {
                height: 250px;
            }
             .chart-container-small {
                height: 200px;
            }
        }
    </style>
</head>
<body class="bg-gray-50 p-4 md:p-8">

    <h1 class="text-3xl font-extrabold text-center text-gray-900 mb-10 tracking-tight">기술지원본부 주간 업무 보고 <span class="text-gray-500 font-normal text-xl ml-2">(2025.12.08)</span></h1>

    
    <!-- 1. 전체 현황 요약 섹션 -->
    <section class="mb-10 bg-white p-6 rounded-xl shadow-sm border border-gray-200">
        <h2 class="text-lg font-bold text-gray-800 mb-6 border-b pb-2">전체 현황 요약</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">제품별 총 접수 건수</h3>
                <div class="chart-container">
                    <canvas id="overallReceivedChart"></canvas>
                </div>
            </div>
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">제품별 진행 중 건수 (누적)</h3>
                <div class="chart-container">
                    <canvas id="overallInProgressChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- =================================================================================================== -->
    <!-- 2. WebSquare / WebTop 상세 현황 섹션 -->
    <!-- =================================================================================================== -->
    <section class="mb-10 bg-white p-6 rounded-xl shadow-md border-t-4 border-indigo-600">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">WebSquare / WebTop 상세 현황</h2>
        
        <!-- [Highlight] 주요 이슈 카드 (Red) -->
        <div class="mb-4 bg-white border-l-8 border-red-500 rounded-r-lg shadow-lg p-6 ring-1 ring-gray-900/5 relative overflow-hidden">
            <div class="absolute top-0 right-0 -mt-2 -mr-2 w-16 h-16 bg-red-500 rounded-full opacity-10 blur-xl"></div>
            <div class="flex items-start">
                <div class="flex-shrink-0 mr-4">
                    <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center text-red-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-red-700 mb-2">주요 이슈</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 mr-2 mt-1">진행중</span>
                            <span class="text-lg text-gray-900 font-medium">JT저축은행: 운영서버 구축 후 테스트 페이지 호출 오류 및 WAS/WEB 서버 분리 이관 산출물 작성 등 방문 지원 예정</span>
                        </li>
                        <li class="flex items-start">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mr-2 mt-1">완료</span>
                            <span class="text-lg text-gray-900 font-medium">현대해상: 크롬 143 버전에서 setInstanceValue 동작 변경 오류 발생 / 긴급 핫픽스 전달 / 서비스 조치 보고서 작성</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- [Semi-Highlight] 기타 (시스템 개선) - Purple -->
        <div class="mb-4 bg-white border-l-8 border-purple-500 rounded-r-lg shadow-md p-5 ring-1 ring-gray-900/5 relative">
            <div class="flex items-start">
                <div class="flex-shrink-0 mr-4">
                    <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-bold text-purple-700 mb-1">기타 (시스템 개선)</h3>
                    <div class="space-y-1">
                        <div class="flex items-center">
                            <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700 mr-2">진행중</span>
                            <span class="text-base text-gray-700">기술지원팀 2025년 가동률 분석 사전 보고 (12/8)</span>
                        </div>
                        <div class="flex items-center">
                            <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700 mr-2">진행중</span>
                            <span class="text-base text-gray-700">기술지원 가동률 대시보드 - 기술지원 통계(피봇) 확장 개발 디자인 시안 리뷰 (12/8)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- [Low Profile] 신규 라이선스 - 개별 코어 수치 표시 -->
        <div class="mb-8 bg-gray-50 border border-gray-200 rounded-md p-4 w-full flex items-center justify-start gap-10">
             <div>
                <h4 class="text-base font-bold text-gray-500 uppercase tracking-wider mb-1">신규 라이선스</h4>
                <p class="text-lg font-semibold text-gray-700">우리카드 (16), LG헬로비전 (72), KDB산업은행 (32), 신한금융지주 (4)</p>
             </div>
             <div class="text-left">
                <span class="text-2xl font-bold text-gray-600">120</span>
                <span class="text-base text-gray-500 font-medium"> Core</span>
             </div>
        </div>

        <!-- 차트 영역 -->
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8 items-start border-t border-gray-100 pt-8"> 
            <div class="w-full">
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">채널별 처리 현황</h3>
                <div class="chart-container">
                    <canvas id="wsChannelChart"></canvas>
                </div>
            </div>
            <div class="w-full">
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">진행 중 상세</h3>
                <div class="chart-container chart-container-small">
                    <canvas id="wsInProgressDetailChart"></canvas>
                </div>
            </div>
            <div class="w-full md:col-start-2 xl:col-start-auto">
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">지원 유형별 현황</h3>
                <div class="chart-container chart-container-small">
                    <canvas id="wsSupportTypeChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- =================================================================================================== -->
    <!-- 3. ProWorks 상세 현황 섹션 -->
    <!-- =================================================================================================== -->
    <section class="mb-10 bg-white p-6 rounded-xl shadow-md border-t-4 border-green-600">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">ProWorks 상세 현황</h2>

        <!-- [Highlight] 주요 진행 내역 -->
        <div class="mb-4 bg-white border-l-8 border-green-500 rounded-r-lg shadow-lg p-6 ring-1 ring-gray-900/5 relative">
             <div class="flex items-start">
                <div class="flex-shrink-0 mr-4">
                    <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center text-green-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-green-700 mb-4">주요 진행 완료 및 이슈 내역</h3>
                    <ul class="space-y-3">
                        <li class="text-gray-900"><span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mr-2">완료</span><span class="font-bold text-gray-700">롯데슈퍼:</span> cvs 커밋 컴파일 에러 처리</li>
                        <li class="text-gray-900"><span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mr-2">완료</span><span class="font-bold text-gray-700">NH농협은행:</span> 운영환경에서 형상관리 빌드 도구 지원 방안</li>
                        <li class="text-gray-900"><span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 mr-2">진행중</span><span class="font-bold text-gray-700">주택도시보증공사 차세대:</span> 쿠버네티스 파드 설치 지원 진행중, 배치 JOB 추가, JSON 오브젝트 필터, 기타등등</li>
                        <li class="text-gray-900"><span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 mr-2">진행중</span><span class="font-bold text-gray-700">탁그 주식회사:</span> 프로웍스 설치 지원에 필요한 자원 준비(인스웨이브재팬)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- [Low Profile Text] 기타 통계 -->
        <div class="mb-8 flex flex-col md:flex-row md:justify-end gap-4 md:gap-8 text-right">
             <!-- 1. 정기 점검 -->
             <div>
                <span class="text-base font-semibold text-gray-500 mr-2">정기 점검:</span>
                <span class="text-lg text-gray-700 font-bold">7 건</span>
             </div>
             <!-- 2. 신규 접수 (기술 문의 및 장애대응 등 16건 + 설치 지원 및 패치 1건) -->
             <div>
                <span class="text-base font-semibold text-gray-500 mr-2">신규 접수:</span>
                <span class="text-lg text-gray-800 font-bold">17 건</span>
             </div>
             <!-- 3. 누적 진행 중 (기술 문의 및 장애대응 등 2건 + 설치 지원 및 패치 1건) -->
             <div>
                <span class="text-base font-semibold text-gray-500 mr-2">누적 진행 중:</span>
                <span class="text-lg text-gray-700 font-bold">기술문의 2건 / 설치 1건</span>
             </div>
        </div>

        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">기술지원 및 설치/패치 현황</h3>
            <div class="chart-container">
                <canvas id="proWorksStatusChart"></canvas>
            </div>
        </div>
    </section>

    <!-- =================================================================================================== -->
    <!-- 4. Matrix Mobile 상세 현황 섹션 -->
    <!-- =================================================================================================== -->
    <section class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Matrix Mobile 상세 현황</h2>

        <!-- [Highlight] 주요 이슈 카드 -->
        <div class="mb-4 bg-white border-l-8 border-orange-500 rounded-r-lg shadow-lg p-6 ring-1 ring-gray-900/5 relative">
            <div class="flex items-start">
                <div class="flex-shrink-0 mr-4">
                    <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center text-orange-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-orange-700 mb-2">주요 진행 이슈</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 mr-2 mt-1">진행중</span>
                            <span class="text-lg text-gray-900 font-medium">하나은행 스마트창구: 나라사랑카드 오프라인 모드 적용</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- [Low Profile Text] 기타 통계 -->
        <div class="mb-8 flex flex-col md:flex-row md:justify-end gap-4 md:gap-8 text-right">
             <!-- 1. 신규 접수 -->
             <div>
                <span class="text-base font-semibold text-gray-500 mr-2">신규 접수:</span>
                <span class="text-lg text-gray-600 font-bold">0 건</span>
             </div>
             <!-- 2. 누적 진행 중 -->
             <div>
                <span class="text-base font-semibold text-gray-500 mr-2">누적 진행 중:</span>
                <span class="text-lg text-gray-600 font-bold">기술 문의/장애 1 건</span>
             </div>
        </div>

        <div class="border-t border-gray-100 pt-8">
            <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">기술지원 및 설치/패치 현황</h3>
            <div class="chart-container">
                <canvas id="matrixMobileStatusChart"></canvas>
            </div>
        </div>
    </section>

    <script>
        // Chart.js Datalabels 플러그인 등록
        Chart.register(ChartDataLabels);

        // Chart.js 전역 플러그인 기본 설정 (차트 내부 폰트 크기 확대 유지)
        Chart.defaults.set('plugins.datalabels', {
            color: '#1F2937', 
            anchor: 'end',
            align: 'top',
            formatter: function(value, context) {
                return value !== null && typeof value !== 'undefined' && value > 0 ? value : null; 
            },
            font: {
                weight: 'bold',
                size: 15 // 수치 폰트 크기
            }
        });

        // --- 고급스러운 색상 팔레트 정의 (Modern Corporate) ---
        // 채도를 약간 낮추고, 깊이감 있는 색상 사용
        const colors = {
            // 접수: Deep Navy Blue (신뢰, 전문성)
            blue: 'rgba(30, 58, 138, 0.85)', 
            // 완료: Teal Emerald (안정, 성공)
            green: 'rgba(5, 150, 105, 0.85)', 
            // 진행중: Golden Amber (주목, 경고 - 너무 쨍하지 않게)
            orange: 'rgba(217, 119, 6, 0.85)', 
            // 설치: Deep Violet (구분)
            purple: 'rgba(109, 40, 217, 0.85)', 
            // 패치: Slate Blue (차분함)
            lightBlue: 'rgba(71, 85, 105, 0.85)', 
            // 장애: Muted Red (강조하되 눈이 아프지 않게)
            red: 'rgba(220, 38, 38, 0.85)'
        };

        // --- 2025.12.08 차트 데이터 ---

        // 1. 제품별 총 접수 건수 차트
        const overallReceivedCtx = document.getElementById('overallReceivedChart').getContext('2d');
        // WebSquare: 164, ProWorks: 17, Matrix Mobile: 0
        const overallReceivedData = [164, 17, 0]; 
        new Chart(overallReceivedCtx, {
            type: 'bar',
            data: {
                labels: ['WebSquare', 'ProWorks', 'Matrix Mobile'],
                datasets: [{
                    label: '총 접수 건수',
                    data: overallReceivedData, 
                    backgroundColor: [colors.blue, colors.green, colors.orange], 
                    borderRadius: 6, 
                    barPercentage: 0.6,
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { 
                    x: { grid: { display: false } },
                    y: { 
                        beginAtZero: true, 
                        suggestedMax: Math.max(...overallReceivedData) + 20,
                        grid: { borderDash: [4, 4], color: '#e5e7eb' }
                    } 
                }
            }
        });

        // 2. 제품별 진행 중 건수 (누적) 차트
        const overallInProgressCtx = document.getElementById('overallInProgressChart').getContext('2d');
        // WebSquare: 13, ProWorks: 3, Matrix Mobile: 1
        const overallInProgressData = [13, 3, 1]; 
        new Chart(overallInProgressCtx, {
            type: 'bar',
            data: {
                labels: ['WebSquare', 'ProWorks', 'Matrix Mobile'],
                datasets: [{
                    label: '진행 중 건수 (누적)',
                    data: overallInProgressData, 
                    backgroundColor: [colors.blue, colors.green, colors.orange],
                    borderRadius: 6,
                    barPercentage: 0.6,
                }]
            },
            options: {
                 responsive: true, maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { 
                    x: { grid: { display: false } },
                    y: { 
                        beginAtZero: true, 
                        suggestedMax: Math.max(...overallInProgressData) + 5,
                        grid: { borderDash: [4, 4], color: '#e5e7eb' }
                    } 
                }
            }
        });

        // 3. WebSquare 채널별 처리 현황 차트
        const wsChannelCtx = document.getElementById('wsChannelChart').getContext('2d');
        new Chart(wsChannelCtx, {
            type: 'bar',
            data: {
                labels: ['엔지니어 개별 문의', '서비스데스크 W-Tech'],
                datasets: [
                    { label: '접수', data: [105, 59], backgroundColor: colors.blue, borderRadius: 4 }, 
                    { label: '완료', data: [96, 55], backgroundColor: colors.green, borderRadius: 4 }, 
                    { label: '진행중', data: [9, 4], backgroundColor: colors.orange, borderRadius: 4 } 
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { 
                    x: { grid: { display: false } },
                    y: { beginAtZero: true, grid: { borderDash: [4, 4], color: '#e5e7eb' } } 
                },
                plugins: { legend: { position: 'top', align: 'end', labels: { boxWidth: 12, font: { weight: 'bold' } } } }
            }
        });

        // 4. WebSquare 진행 중 상세 차트
        const wsInProgressDetailCtx = document.getElementById('wsInProgressDetailChart').getContext('2d');
        // 분석: 4 + 3 = 7, 지라: 5 + 1 = 6. 총 13건
        new Chart(wsInProgressDetailCtx, {
            type: 'doughnut',
            data: {
                labels: ['분석', '지라'],
                datasets: [{
                    data: [7, 6], 
                    backgroundColor: [colors.lightBlue, colors.orange], 
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                cutout: '65%',
                plugins: {
                    legend: { position: 'bottom', labels: { boxWidth: 12, font: { weight: 'bold' } } },
                    datalabels: {
                        color: '#333',
                        font: { size: 16, weight: 'bold' } 
                    }
                }
            }
        });

        // 5. WebSquare 지원 유형별 현황 차트
        const wsSupportTypeCtx = document.getElementById('wsSupportTypeChart').getContext('2d');
        // 설치 0, 패치 2, 정기점검 54, 장애 0
        const wsSupportTypeData = [0, 2, 54, 0]; 
        new Chart(wsSupportTypeCtx, {
            type: 'bar',
            data: {
                labels: ['설치', '패치', '정기점검', '장애'],
                datasets: [{
                    data: wsSupportTypeData, 
                    backgroundColor: [colors.purple, colors.lightBlue, colors.green, colors.red],
                    borderRadius: 4,
                }]
            },
            options: {
                 responsive: true, maintainAspectRatio: false,
                 plugins: { legend: { display: false } },
                 scales: { 
                    x: { grid: { display: false } },
                    y: { 
                        beginAtZero: true, 
                        suggestedMax: Math.max(...wsSupportTypeData) + 5,
                        grid: { borderDash: [4, 4], color: '#e5e7eb' }
                    } 
                 }
            }
        });

        // 6. ProWorks 차트
        const proWorksStatusCtx = document.getElementById('proWorksStatusChart').getContext('2d');
        new Chart(proWorksStatusCtx, {
            type: 'bar',
            data: {
                labels: ['기술 문의/장애', '설치/패치'],
                datasets: [
                    { label: '접수', data: [16, 1], backgroundColor: colors.blue, borderRadius: 4 }, 
                    { label: '완료', data: [16, 1], backgroundColor: colors.green, borderRadius: 4 }, 
                    { label: '진행중 (누적)', data: [2, 1], backgroundColor: colors.orange, borderRadius: 4 } 
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { 
                    x: { grid: { display: false } },
                    y: { beginAtZero: true, suggestedMax: 20, grid: { borderDash: [4, 4], color: '#e5e7eb' } } 
                },
                plugins: { legend: { position: 'top', align: 'end', labels: { boxWidth: 12, font: { weight: 'bold' } } } }
            }
        });

         // 7. Matrix Mobile 차트
        const matrixMobileStatusCtx = document.getElementById('matrixMobileStatusChart').getContext('2d');
        new Chart(matrixMobileStatusCtx, {
            type: 'bar',
            data: {
                labels: ['기술 문의/장애', '설치/패치'],
                 datasets: [
                    { label: '접수', data: [0, 0], backgroundColor: colors.blue, borderRadius: 4 }, 
                    { label: '완료', data: [0, 0], backgroundColor: colors.green, borderRadius: 4 }, 
                    { label: '진행중 (누적)', data: [1, 0], backgroundColor: colors.orange, borderRadius: 4 } 
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { 
                    x: { grid: { display: false } },
                    y: { 
                        beginAtZero: true, 
                        suggestedMax: 5,
                        grid: { borderDash: [4, 4], color: '#e5e7eb' }
                    } 
                },
                plugins: { legend: { position: 'top', align: 'end', labels: { boxWidth: 12, font: { weight: 'bold' } } } }
            }
        });

    </script>

</body>
</html>
