<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기술지원본부 주간 업무 보고 대시보드 (2025.12.29)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script> 
    
    <!-- Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        
        .chart-container {
            position: relative;
            margin: auto;
            height: 300px;
            width: 100%;
            margin-bottom: 1rem;
        }
        .chart-container-small {
            height: 320px;
            width: 100%;
        }
    </style>
</head>
<body class="bg-gray-50 p-6 md:p-10 text-gray-900">

    <h1 class="text-3xl font-extrabold text-center text-gray-900 mb-10 tracking-tight">기술지원본부 주간 업무 보고 <span class="text-gray-500 font-normal text-xl ml-2">(2025.12.29)</span></h1>

    <!-- 1. 전체 현황 요약 -->
    <section class="mb-10 bg-white p-8 rounded-xl shadow-sm border border-gray-200">
        <h2 class="text-lg font-bold text-gray-800 mb-6 border-b pb-2">전체 현황 요약</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">제품별 총 접수 건수</h3>
                <div class="chart-container">
                    <canvas id="overallReceivedChart"></canvas>
                </div>
            </div>
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">제품별 진행 중 건수 (누적)</h3>
                <div class="chart-container">
                    <canvas id="overallInProgressChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- 2. WebSquare / WebTop 상세 현황 -->
    <section class="mb-10 bg-white p-8 rounded-xl shadow-md border-t-4 border-indigo-600">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">WebSquare / WebTop 상세 현황</h2>
        
        <!-- 주요 이슈 -->
        <div class="mb-6 bg-white border-l-8 border-red-500 rounded-r-lg shadow-sm p-6 ring-1 ring-gray-900/5">
            <h3 class="text-xl font-bold text-red-700 mb-3 flex items-center"><i class="fa-solid fa-triangle-exclamation mr-2"></i>주요 이슈</h3>
            <ul class="space-y-3">
                <li class="flex items-start text-lg text-gray-800">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-red-100 text-red-800 mr-3 mt-0.5">진행중</span>
                    <div>
                        <span class="font-bold">메리츠화재:</span> 기능 개선 요청건 핫픽스 처리 및 전달중
                    </div>
                </li>
                <li class="flex items-start text-lg text-gray-800">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-red-100 text-red-800 mr-3 mt-0.5">진행중</span>
                    <div>
                        <span class="font-bold">신한은행 기업뱅킹:</span> WGear 취약성 조치 현황 및 미적용 환경 추가 조치 방안 협의 예정 (12/29)
                    </div>
                </li>
            </ul>
        </div>

        <!-- 기타 (시스템) -->
        <div class="mb-6 bg-white border-l-8 border-purple-500 rounded-r-lg shadow-sm p-6 ring-1 ring-gray-900/5">
            <h3 class="text-xl font-bold text-purple-700 mb-3 flex items-center"><i class="fa-solid fa-gears mr-2"></i>기타 (시스템 개선 및 공유)</h3>
            <ul class="space-y-3">
                <li class="flex items-start text-lg text-gray-800">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-gray-100 text-gray-700 mr-3 mt-0.5">홀드</span>
                    <div>
                        <span class="font-bold">기술지원 가동률 대시보드:</span> 통합자원할당 시스템 선개발 진행으로 인한 홀드
                    </div>
                </li>
                <li class="flex items-start text-lg text-gray-800">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-blue-100 text-blue-800 mr-3 mt-0.5">정보공유</span>
                    <div>
                        배승희 프로 육아휴직(1년)으로 인한 변경된 담당자 확인후 지원 요청 요망
                    </div>
                </li>
            </ul>
        </div>

        <!-- 신규 라이선스 -->
        <div class="mb-8 bg-gray-50 border border-gray-200 rounded-lg p-5 flex items-center justify-between shadow-sm">
             <div class="flex items-center">
                <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 mr-4">
                    <i class="fa-solid fa-id-card text-xl"></i>
                </div>
                <div>
                    <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">신규 라이선스</h4>
                    <p class="text-xl font-bold text-gray-800">한국지역정보개발원 (재난안전 상황전파) (64)</p>
                </div>
             </div>
             <div class="text-right">
                <span class="text-3xl font-extrabold text-indigo-600">64</span>
                <span class="text-lg text-gray-500 font-medium"> Core</span>
             </div>
        </div>

        <!-- 차트 영역 -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 border-t border-gray-100 pt-8"> 
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">채널별 처리 현황</h3>
                <div class="chart-container">
                    <canvas id="wsChannelChart"></canvas>
                </div>
            </div>
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">진행 중 상세</h3>
                <div class="chart-container chart-container-small">
                    <canvas id="wsInProgressDetailChart"></canvas>
                </div>
            </div>
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">지원 유형별 현황</h3>
                <div class="chart-container chart-container-small">
                    <canvas id="wsSupportTypeChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- 3. ProWorks / Matrix Mobile 상세 현황 -->
    <section class="mb-10 bg-white p-8 rounded-xl shadow-md border-t-4 border-green-600">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">ProWorks / Matrix Mobile 상세 현황</h2>

        <!-- 주요 진행 내역 -->
        <div class="mb-8 bg-white border-l-8 border-green-500 rounded-r-lg shadow-sm p-6 ring-1 ring-gray-900/5">
             <h3 class="text-xl font-bold text-green-700 mb-4 flex items-center"><i class="fa-solid fa-list-check mr-2"></i>주요 진행 완료 및 이슈 내역</h3>
             
             <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- ProWorks List -->
                <div>
                    <div class="mb-3 pb-2 border-b border-green-100 font-bold text-green-900">ProWorks</div>
                    <ul class="space-y-3 text-lg text-gray-800">
                        <li class="flex items-start">
                            <span class="flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-green-100 text-green-800 mr-3 mt-0.5">완료</span>
                            <div><span class="font-bold">주택도시보증공사:</span> 웹 콘솔 화면 오류 문의 지원</div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-green-100 text-green-800 mr-3 mt-0.5">완료</span>
                            <div><span class="font-bold">더케이예다함:</span> U2L 사업 스튜디오 이관 설치 방문 지원</div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-green-100 text-green-800 mr-3 mt-0.5">완료</span>
                            <div><span class="font-bold">탁그 주식회사:</span> SVN 연동 문의 및 개발 가이드 전달</div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-orange-100 text-orange-800 mr-3 mt-0.5">진행중</span>
                            <div><span class="font-bold">한국예탁결제원:</span> TMS 즉시 실행, 배치 프로세스 분석중</div>
                        </li>
                    </ul>
                </div>

                <!-- Mobile List -->
                <div>
                    <div class="mb-3 pb-2 border-b border-blue-100 font-bold text-blue-900">Matrix Mobile</div>
                    <ul class="space-y-3 text-lg text-gray-800">
                        <li class="flex items-start">
                            <span class="flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-orange-100 text-orange-800 mr-3 mt-0.5">진행중</span>
                            <div><span class="font-bold">UI 뱅크:</span> Android crash 분석</div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded text-sm font-bold bg-orange-100 text-orange-800 mr-3 mt-0.5">진행중</span>
                            <div><span class="font-bold">국군의무사:</span> 생체인증 모듈 업데이트</div>
                        </li>
                    </ul>
                </div>
             </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 border-t border-gray-100 pt-8">
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">ProWorks 지원 현황</h3>
                <div class="chart-container">
                    <canvas id="proWorksStatusChart"></canvas>
                </div>
            </div>
            <div>
                <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">Matrix Mobile 지원 현황</h3>
                <div class="chart-container">
                    <canvas id="matrixMobileStatusChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Chart.js Datalabels 플러그인 등록
        Chart.register(ChartDataLabels);

        // Chart.js 전역 플러그인 기본 설정
        Chart.defaults.set('plugins.datalabels', {
            color: '#1F2937', 
            anchor: 'end',
            align: 'top',
            formatter: function(value, context) {
                return value !== null && typeof value !== 'undefined' && value > 0 ? value : null; 
            },
            font: {
                weight: 'bold',
                size: 15 // 수치 폰트 크기
            }
        });

        // --- 고급스러운 색상 팔레트 정의 ---
        const colors = {
            blue: 'rgba(30, 58, 138, 0.85)', 
            green: 'rgba(5, 150, 105, 0.85)', 
            orange: 'rgba(217, 119, 6, 0.85)', 
            purple: 'rgba(109, 40, 217, 0.85)', 
            lightBlue: 'rgba(71, 85, 105, 0.85)', 
            red: 'rgba(220, 38, 38, 0.85)'
        };

        // --- 2025.12.29 차트 데이터 ---

        // 1. 제품별 총 접수 건수 차트
        const overallReceivedCtx = document.getElementById('overallReceivedChart').getContext('2d');
        // WebSquare: 72, ProWorks: 21, Matrix Mobile: 1
        const overallReceivedData = [72, 21, 1]; 
        new Chart(overallReceivedCtx, {
            type: 'bar',
            data: {
                labels: ['WebSquare', 'ProWorks', 'Mobile'],
                datasets: [{
                    label: '총 접수 건수',
                    data: overallReceivedData, 
                    backgroundColor: [colors.blue, colors.green, colors.orange], 
                    borderRadius: 6, 
                    barPercentage: 0.6,
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { 
                    x: { grid: { display: false } },
                    y: { 
                        beginAtZero: true, 
                        suggestedMax: Math.max(...overallReceivedData) + 10,
                        grid: { borderDash: [4, 4], color: '#e5e7eb' }
                    } 
                }
            }
        });

        // 2. 제품별 진행 중 건수 (누적) 차트
        const overallInProgressCtx = document.getElementById('overallInProgressChart').getContext('2d');
        // WebSquare: 18, ProWorks: 2+1=3, Matrix Mobile: 2
        const overallInProgressData = [18, 3, 2]; 
        new Chart(overallInProgressCtx, {
            type: 'bar',
            data: {
                labels: ['WebSquare', 'ProWorks', 'Mobile'],
                datasets: [{
                    label: '진행 중 건수 (누적)',
                    data: overallInProgressData, 
                    backgroundColor: [colors.blue, colors.green, colors.orange],
                    borderRadius: 6,
                    barPercentage: 0.6,
                }]
            },
            options: {
                 responsive: true, maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { 
                    x: { grid: { display: false } },
                    y: { 
                        beginAtZero: true, 
                        suggestedMax: Math.max(...overallInProgressData) + 5,
                        grid: { borderDash: [4, 4], color: '#e5e7eb' }
                    } 
                }
            }
        });

        // 3. WebSquare 채널별 처리 현황 차트
        const wsChannelCtx = document.getElementById('wsChannelChart').getContext('2d');
        new Chart(wsChannelCtx, {
            type: 'bar',
            data: {
                labels: ['엔지니어 개별 문의', '서비스데스크 W-Tech'],
                datasets: [
                    { label: '접수', data: [50, 22], backgroundColor: colors.blue, borderRadius: 4 }, 
                    { label: '완료', data: [35, 19], backgroundColor: colors.green, borderRadius: 4 }, 
                    { label: '진행중', data: [15, 3], backgroundColor: colors.orange, borderRadius: 4 } 
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { 
                    x: { grid: { display: false } },
                    y: { beginAtZero: true, grid: { borderDash: [4, 4], color: '#e5e7eb' } } 
                },
                plugins: { legend: { position: 'top', align: 'end', labels: { boxWidth: 12, font: { weight: 'bold' } } } }
            }
        });

        // 4. WebSquare 진행 중 상세 차트
        const wsInProgressDetailCtx = document.getElementById('wsInProgressDetailChart').getContext('2d');
        // 분석: 8 + 2 = 10, 지라: 7 + 1 = 8. 총 18건
        new Chart(wsInProgressDetailCtx, {
            type: 'doughnut',
            data: {
                labels: ['분석', '지라'],
                datasets: [{
                    data: [10, 8], 
                    backgroundColor: [colors.lightBlue, colors.orange], 
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                cutout: '50%',
                layout: {
                    padding: 24 
                },
                plugins: {
                    legend: { position: 'bottom', labels: { boxWidth: 12, font: { weight: 'bold' } } },
                    datalabels: {
                        color: '#333',
                        backgroundColor: 'rgba(255,255,255,0.9)', 
                        borderRadius: 4,
                        font: { size: 15, weight: 'bold' },
                        anchor: 'end', 
                        align: 'end',  
                        offset: 8,     
                        formatter: (value, ctx) => {
                            return `${value}건`; 
                        },
                        textAlign: 'center'
                    }
                }
            }
        });

        // 5. WebSquare 지원 유형별 현황 차트
        const wsSupportTypeCtx = document.getElementById('wsSupportTypeChart').getContext('2d');
        // 설치 0, 패치 1, 정기점검 25, 장애 0
        const wsSupportTypeData = [0, 1, 25, 0]; 
        new Chart(wsSupportTypeCtx, {
            type: 'bar',
            data: {
                labels: ['설치', '패치', '정기점검', '장애'],
                datasets: [{
                    data: wsSupportTypeData, 
                    backgroundColor: [colors.purple, colors.lightBlue, colors.green, colors.red],
                    borderRadius: 4,
                }]
            },
            options: {
                 responsive: true, maintainAspectRatio: false,
                 plugins: { legend: { display: false } },
                 scales: { 
                    x: { grid: { display: false } },
                    y: { 
                        beginAtZero: true, 
                        suggestedMax: Math.max(...wsSupportTypeData) + 5,
                        grid: { borderDash: [4, 4], color: '#e5e7eb' }
                    } 
                 }
            }
        });

        // 6. ProWorks 차트
        const proWorksStatusCtx = document.getElementById('proWorksStatusChart').getContext('2d');
        new Chart(proWorksStatusCtx, {
            type: 'bar',
            data: {
                labels: ['기술 문의/장애', '설치/패치'],
                datasets: [
                    { label: '접수', data: [20, 1], backgroundColor: colors.blue, borderRadius: 4 }, 
                    { label: '완료', data: [19, 2], backgroundColor: colors.green, borderRadius: 4 }, 
                    { label: '진행중 (누적)', data: [2, 1], backgroundColor: colors.orange, borderRadius: 4 } 
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { 
                    x: { grid: { display: false } },
                    y: { beginAtZero: true, suggestedMax: 25, grid: { borderDash: [4, 4], color: '#e5e7eb' } } 
                },
                plugins: { legend: { position: 'top', align: 'end', labels: { boxWidth: 12, font: { weight: 'bold' } } } }
            }
        });

         // 7. Matrix Mobile 차트
        const matrixMobileStatusCtx = document.getElementById('matrixMobileStatusChart').getContext('2d');
        new Chart(matrixMobileStatusCtx, {
            type: 'bar',
            data: {
                labels: ['기술 문의/장애', '설치/패치'],
                 datasets: [
                    { label: '접수', data: [1, 0], backgroundColor: colors.blue, borderRadius: 4 }, 
                    { label: '완료', data: [0, 0], backgroundColor: colors.green, borderRadius: 4 }, 
                    { label: '진행중 (누적)', data: [2, 0], backgroundColor: colors.orange, borderRadius: 4 } 
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { 
                    x: { grid: { display: false } },
                    y: { 
                        beginAtZero: true, 
                        suggestedMax: 5,
                        grid: { borderDash: [4, 4], color: '#e5e7eb' }
                    } 
                },
                plugins: { legend: { position: 'top', align: 'end', labels: { boxWidth: 12, font: { weight: 'bold' } } } }
            }
        });

    </script>

</body>
</html>
